### INFORMES

#### Informe de ventas válidas
- Aplicar aprendizaje
- El limite de compra por cliente esta por decilitros, tomar en cuenta en la tabla clientes
- si las compras son mayor es invalida, si es menor al limite entonces son  validas
- se aplican consultas, sub consultas

```sql
     SELECT	A.DNI, 
		A.NOMBRE, 
        A.MES_AÑO, 
		A.CANTIDAD_VENDIDA - A.CANTIDAD_MAXIMA AS DIFERENCIA,
    CASE
		WHEN  (A.CANTIDAD_VENDIDA - A.CANTIDAD_MAXIMA) <= 0 THEN 'Venta Válida'
		ELSE 'Venta Inválida'
    END AS STATUS_VENTA
    FROM(SELECT 	F.DNI,
					TC.NOMBRE,
					DATE_FORMAT(F.FECHA_VENTA, "%m - %Y") AS MES_AÑO, 
					SUM(IFa.CANTIDAD) AS CANTIDAD_VENDIDA, 
					MAX(VOLUMEN_DE_COMPRA)/10 AS CANTIDAD_MAXIMA  
		FROM facturas F 
		INNER JOIN items_facturas IFa
					ON F.NUMERO = IFa.NUMERO
		INNER JOIN tabla_de_clientes TC
					ON TC.DNI = F.DNI
    GROUP BY 	F.DNI, 
				TC.NOMBRE, 
                DATE_FORMAT(F.FECHA_VENTA, "%m - %Y")) A;
```
![Ventas invalidas](/imagenes/ventas_invalidas.png)


#### Informe de ventas por sabor año 2016

- cantidad de litros y porcentaje de participacion.
- sabor / año / cantidad_lts / porcentaje /
- 

```sql
    SELECT VENTAS_SABOR.SABOR, VENTAS_SABOR.AÑO, VENTAS_SABOR.CANTIDAD_TOTAL,
    ROUND((VENTAS_SABOR.CANTIDAD_TOTAL/VENTA_TOTAL.CANTIDAD_TOTAL)*100,2) 
    AS PORCENTAJE FROM (
    SELECT P.SABOR, SUM(IFa.CANTIDAD) AS CANTIDAD_TOTAL, 
    YEAR(F.FECHA_VENTA) AS AÑO FROM
    tabla_de_productos P
    INNER JOIN
    items_facturas IFa
    ON P.CODIGO_DEL_PRODUCTO = IFa.CODIGO_DEL_PRODUCTO
    INNER JOIN
    facturas F
    ON F.NUMERO = IFa.NUMERO
    WHERE YEAR(F.FECHA_VENTA) = 2016
    GROUP BY P.SABOR, YEAR(F.FECHA_VENTA)
    ORDER BY SUM(IFa.CANTIDAD) DESC) VENTAS_SABOR
    INNER JOIN (
    SELECT SUM(IFa.CANTIDAD) AS CANTIDAD_TOTAL, 
    YEAR(F.FECHA_VENTA) AS AÑO FROM
    tabla_de_productos P
    INNER JOIN
    items_facturas IFa
    ON P.CODIGO_DEL_PRODUCTO = IFa.CODIGO_DEL_PRODUCTO
    INNER JOIN
    facturas F
    ON F.NUMERO = IFa.NUMERO
    WHERE YEAR(F.FECHA_VENTA) = 2016
    GROUP BY YEAR(F.FECHA_VENTA)) VENTA_TOTAL
    ON VENTA_TOTAL.AÑO = VENTAS_SABOR.AÑO
    ORDER BY VENTAS_SABOR.CANTIDAD_TOTAL DESC;
```

![Ventas 2016](/imagenes/ventas_2016.png)
