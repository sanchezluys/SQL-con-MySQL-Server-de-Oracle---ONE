## Construir la BD

- Se pueden usar herramientas Computer-Aide Software Engineering CASE como Star UML, Astah, ERWin
- Workbench tambien permite ejecutar los pasos para crear la BD

## Creacion de la BD

- se puede hacer por cÃ³digo o con el asistente **CREATE**
- **CREATE IF NOT EXISTS**
- **DROP** Para eliminar
- **CREATE SCHEMA IF NOT EXISTS**
- Ejemplo: CREATE SCHEMA IF NOT EXISTS ventas_jugos2 DEFAULT CHARSET utf8

## Creacion de la tabla con PK

- PRIMARY KEY (`id`,'dato',)  por ejemplo
- Se puede crear una **llave primaria compuesta** ejemplo: PRIMARY KEY(ID_ESTIANTE, ID_CURSO, SEMESTRE)
- Para borrar una tabla se usa 'DROP TABLE tabla'

```sql
    CREATE TABLE `tb_vendedor` 
    (
      `MATRICULA` varchar(5) NOT NULL,
      `NOMBRE` varchar(100) DEFAULT NULL,
      `PORCENTAJE_COMISION` float DEFAULT NULL,
      `FECHA_ADMISION` date DEFAULT NULL,
      `VACACIONES` bit(1) DEFAULT NULL,
      `BARRIO` varchar(50) DEFAULT NULL,
      PRIMARY KEY (`MATRICULA`)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3 COLLATE=utf8mb3_spanish_ci
```

```sql
  CREATE TABLE `tb_producto` 
  (
    `CODIGO_DEL_PRODUCTO` varchar(10) NOT NULL,
    `NOMBRE_DEL_PRODUCTO` varchar(50) DEFAULT NULL,
    `TAMANO` varchar(10) DEFAULT NULL,
    `SABOR` varchar(20) DEFAULT NULL,
    `ENVASE` varchar(20) DEFAULT NULL,
    `PRECIO_DE_LISTA` float NOT NULL,
    PRIMARY KEY (`CODIGO_DEL_PRODUCTO`)
  ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3 COLLATE=utf8mb3_spanish_ci

```

```sql
  CREATE TABLE `tb_cliente` 
  (
    `DNI` varchar(11) NOT NULL,
    `NOMBRE` varchar(100) DEFAULT NULL,
    `DIRECCION_1` varchar(150) DEFAULT NULL,
    `DIRECCION_2` varchar(150) DEFAULT NULL,
    `BARRIO` varchar(50) DEFAULT NULL,
    `CIUDAD` varchar(50) DEFAULT NULL,
    `ESTADO` varchar(2) DEFAULT NULL,
    `CP` varchar(8) DEFAULT NULL,
    `FECHA_DE_NACIMIENTO` date DEFAULT NULL,
    `EDAD` smallint(6) DEFAULT NULL,
    `SEXO` varchar(1) DEFAULT NULL,
    `LIMITE_DE_CREDITO` float DEFAULT NULL,
    `VOLUMEN_DE_COMPRA` float DEFAULT NULL,
    `PRIMERA_COMPRA` bit(1) DEFAULT NULL,
    PRIMARY KEY (`DNI`)
  ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3 COLLATE=utf8mb3_spanish_ci
```
### Opciones SQL

- Para renombrar ALTER TABLE tabla RENAME table2;
- Por defecto las columnas aceptan Null
- 

Motores:

- InnoDB: motor robusto permite multiples transacciones, gestiona mucho mejor las transacciones
- MyIsam: tablas en la que los registros cambian muy poco, son tablas con pocas transacciones

## Creando el Diagrama Entidad Relacion

- Usando workbench en Database->Reverse Engineer se genera el ERD

![ERD workbench](/imagenes/clase01/der_generado_workbench.png)

- Se puede crear el codigo SQL a partir del ERD, en File->Export -> Forward Engineer SQL

![ERD a SQL](/imagenes/clase01/de_ERD_a_SQL.png)

![ERD a SQL 2](/imagenes/clase01/de_ERD_a_SQL_2.png)

![ERD a SQL 3](/imagenes/clase01/de_ERD_a_SQL_3.png)
