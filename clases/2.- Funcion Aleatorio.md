## Funcion Aleatorio

- Crear un procedimiento que:
  1. Genere una nueva factura
  2. Reciba los parametros: Fecha, numero maximo de items y numero maximo de cantidad
  3. Debe seleccionar un comprador aleatorio del listado disponible en esa tabla
  4. Debe seleccionar un vendedor de la lista disponible en la tabla vendedores
  5. Se usa la funcion RAND() que genera un aleatorio entre 0-1
  6. Es necesario ajustar la funcion para que busque un aleatorio que este dentro de los ids de vendedores y de clientes
  7. La llave primaria de vendedores es tipo character y tiene 4 digitos
  8. La llave primaria del clientes es el DNI que tambien es varchar
  9. Tome en cuenta que mysql por defecto no permite crear funciones, por lo que debe: **SET GLOBAL log_bin_trust_function_creators = 1;**
  

  Se propone usar RAND() que seleccione un id entero de 1 a (numero de vendedores +1)

```sql
  -- es mi solucion
  FLOOR(RAND() * (SELECT COUNT(*) FROM vendedores) + 1)

  -- la solucion en clase es:
  -- Un aleatorio entre un MIN y MAX 
  -- RAND()*(MAX-MIN+1)+MIN
  -- y el entero seria con FLOOR()
  FLOOR(RAND() * (MAX-MIN+1) + MIN)
```

Creando la funcion de aleatorios enteros:


```sql
  USE `credicel_empresa`;
  DROP function IF EXISTS `f_aleatorio`;
  DELIMITER $$
    USE `credicel_empresa`$$
    CREATE FUNCTION `f_aleatorio` (vmax INT, vmin INT)
    RETURNS INTEGER
    BEGIN
      DECLARE vresultado INT;
        SELECT FLOOR((RAND()*(vmax-vmin+1))+vmin) INTO vresultado;
    RETURN vresultado;
    END$$
  DELIMITER ;
```
- Se hacen pruebas con 1 y 2, donde no quedo convencido que esa sea la funcion correcta, siempre devuelve 2 como resultado.
- 
