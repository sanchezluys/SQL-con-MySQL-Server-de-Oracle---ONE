## Control de Flujo

### IF/THEN/ELSE

```sql
    IF  condicion THEN 
        codigo
    ELSE
        codigo2
    END IF;
```

- Da el mismo error del ejercicio anterior,
- La solucion es recibir el parametro con  una codificacion utf8mb3_spanish_ci

```sql
    USE `credicel_alura_bd`;
    DROP procedure IF EXISTS `verifica_edad`;

    USE `credicel_alura_bd`;
    DROP procedure IF EXISTS `credicel_alura_bd`.`verifica_edad`;

    DELIMITER $$
        USE `credicel_alura_bd`$$
        CREATE DEFINER=`credicel_alura_portatil`@`%` PROCEDURE `verifica_edad`(vid VARCHAR(20) COLLATE utf8mb3_spanish_ci)
        BEGIN
            DECLARE vfecha DATE;
            DECLARE mensaje VARCHAR(20);
            SELECT 	FECHA_DE_NACIMIENTO INTO vfecha
            FROM	tabla_de_clientes
            WHERE	DNI=vid;
            -- * 0
            SELECT vfecha AS FECHA_NAC;
            SELECT YEAR(vfecha) AS AÑO;
            IF 	YEAR(vfecha) < 1990
                THEN SET mensaje="es un viejo";
            ELSE	
                SET mensaje="es un joven";
            END IF;
            SELECT mensaje;
        END$$

    DELIMITER ;
```

### IF/THEN/ELSIF/ELSE/END IF

```sql
    IF condicion1 THEN
        codigo1;
    ELSEIF condicion2 THEN
        codigo2;
    ELSE
        codigo3;
    END IF;
```

Código para decir si un producto es economico, caro o ascesible.

```sql
    USE `credicel_alura_bd`;
    DROP procedure IF EXISTS `credicel_alura_bd`.`califica_precio_producto`;
    DELIMITER $$
    USE `credicel_alura_bd`$$
    CREATE DEFINER=`credicel_alura_portatil`@`%` 
    PROCEDURE `califica_precio_producto`(vcodigo VARCHAR(20) COLLATE utf8mb3_spanish_ci)
    BEGIN
        DECLARE vprecio FLOAT;
        DECLARE mensaje VARCHAR(30);
        SET mensaje='sin mensaje';
        -- **
        SELECT 	PRECIO_DE_LISTA INTO vprecio
        FROM	tabla_de_productos
        WHERE	CODIGO_DEL_PRODUCTO=vcodigo;
        -- **
        SELECT  vprecio as Precio;
        IF 	vprecio < 7	THEN
            SET mensaje='producto economico';
        ELSEIF vprecio >=7  AND vprecio < 12 THEN
            SET mensaje='producto ascesible';
        ELSE
            SET mensaje='producto costoso';
        END IF;
        -- **
        SELECT mensaje as Mensaje;
    END$$
    DELIMITER ;
```


